# Better ls
alias l="ls -lha"

# cd up!
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."

# Count files under folders
alias count='for i in *; do [ -d "$i" ] && echo "$i `find "$i" | grep -v .svn | wc -l`"; done | sort -k2 -n'

# Start a simple HTTP server in current dir
alias serve="python -m SimpleHTTPServer"

# App links
alias vi="/usr/bin/vim"
alias vim="/usr/local/bin/mvim"
alias ack='ACK_PAGER_COLOR="less -x4SRFX" /usr/local/bin/ack'
alias gitx="open /opt/homebrew-cask/Caskroom/ssp-gitx/0.12/GitX.app --args `pwd`"
alias firefox-profile="/Applications/Firefox.app/Contents/MacOS/firefox -profilemanager"
alias vlc="/Applications/VLC.app/Contents/MacOS/VLC"
alias gource='gource --multi-sampling --seconds-per-day 3 --loop --key --user-image-dir .git/avatar/ --follow-user "Seb Flippence"'

alias notify="osascript -e 'display notification \"Done!\" with title \"iTerm\"'"

# Git
alias git-pr="git stash && git pr && git stash pop"
alias git-purge='git fetch --all -p && git br --merged | grep -v "\*" | grep -v master | xargs -n 1 git branch -d'

# Docker
alias docker-quick-start="/Applications/Docker/Docker\ Quickstart\ Terminal.app/Contents/Resources/Scripts/start.sh"
alias fig="docker-compose"
alias fig-kill-rm="fig kill && fig rm -f"
alias docker-restart-stopped="docker restart \$(docker ps -a -q -f status=exited)"
alias docker-rm-stopped="docker rm -v \$(docker ps -a -q -f status=exited)"
alias docker-rm-untagged-images="docker rmi \$(docker images -f 'dangling=true' -q)"
alias docker-gc="docker run --rm -v /var/run/docker.sock:/var/run/docker.sock -v /etc:/etc spotify/docker-gc"
alias docker-nginx-proxy="docker run -d --name nginx-proxy -p 80:80 --restart="always" -v /var/run/docker.sock:/tmp/docker.sock:ro jwilder/nginx-proxy"

# Updates, Homebrew & Cask
alias update='mac-up && brew-up && apm update --confirm false'
alias mac-up='sudo softwareupdate --install --all'
alias brew-cask-upgrade='for c in `brew cask list | grep -v "(\!)"`; do ! brew cask info $c | grep -qF "Not installed" || brew cask install $c; done'
alias brew-up='brew update && brew upgrade && brew-cask-upgrade && brew cask cleanup && brew cleanup'
alias brew-fix='sudo chown -R $USER /usr/local'

# Code
alias xmlpp='xmllint --format -'
alias phpcs="find . -name *.php -exec phpcs --standard=Zend '{}' \;"

# Others
alias fuck='sudo $(history -p \!\!)'
alias weather='curl -4 wttr.in/London'
